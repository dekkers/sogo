From: Jeroen Dekkers <jeroen@dekkers.ch>
Date: Wed, 7 Dec 2011 21:11:45 +0100
Subject: link-everything-correctly

---
 Main/GNUmakefile.preamble                 |    2 +-
 OGoContentStore/GNUmakefile.preamble      |    4 +++-
 SOPE/GDLContentStore/GNUmakefile.preamble |    3 +--
 SOPE/NGCards/GNUmakefile.preamble         |    3 +--
 SoObjects/SOGo/GNUmakefile.preamble       |    4 ++--
 SoObjects/common.make                     |    2 +-
 UI/SOGoUI/GNUmakefile.preamble            |    4 ++--
 7 files changed, 11 insertions(+), 11 deletions(-)

diff --git a/Main/GNUmakefile.preamble b/Main/GNUmakefile.preamble
index 7614f20..675b591 100644
--- a/Main/GNUmakefile.preamble
+++ b/Main/GNUmakefile.preamble
@@ -25,4 +25,4 @@ $(SOGOD)_TOOL_LIBS += \
 	-lNGObjWeb		\
 	-lNGMime -lNGLdap	\
 	-lNGStreams -lNGExtensions -lEOControl \
-	-lDOM -lXmlRpc -lSaxObjC
+	-lDOM -lSaxObjC
diff --git a/OGoContentStore/GNUmakefile.preamble b/OGoContentStore/GNUmakefile.preamble
index 7a9042c..b2d9374 100644
--- a/OGoContentStore/GNUmakefile.preamble
+++ b/OGoContentStore/GNUmakefile.preamble
@@ -6,7 +6,9 @@ libOGoContentStore_LIBRARIES_DEPEND_UPON += \
 	-lNGCards	\
 	-lNGExtensions	\
 	-lEOControl	\
-	-lSaxObjC
+	-lSaxObjC	\
+	-lgnustep-base	\
+	-lobjc
 
 ADDITIONAL_INCLUDE_DIRS += -I. -I.. -I../SOPE -I../SoObjects
 
diff --git a/SOPE/GDLContentStore/GNUmakefile.preamble b/SOPE/GDLContentStore/GNUmakefile.preamble
index 58c1401..6c900d3 100644
--- a/SOPE/GDLContentStore/GNUmakefile.preamble
+++ b/SOPE/GDLContentStore/GNUmakefile.preamble
@@ -12,8 +12,7 @@ ADDITIONAL_INCLUDE_DIRS += -I. -I..
 libGDLContentStore_LIBRARIES_DEPEND_UPON += \
 	-lGDLAccess			\
 	-lNGExtensions -lEOControl	\
-	-lDOM -lSaxObjC \
-        -lgnustep-base
+        -lgnustep-base -lobjc
 
 GDLContentStore_LIBRARIES_DEPEND_UPON += \
 	-framework GDLAccess	\
diff --git a/SOPE/NGCards/GNUmakefile.preamble b/SOPE/NGCards/GNUmakefile.preamble
index e178ea5..6fc0b52 100644
--- a/SOPE/NGCards/GNUmakefile.preamble
+++ b/SOPE/NGCards/GNUmakefile.preamble
@@ -20,9 +20,8 @@ ADDITIONAL_INCLUDE_DIRS += \
 libNGCards_LIBRARIES_DEPEND_UPON += \
 	-lNGExtensions	\
 	-lEOControl	\
-	-lDOM		\
 	-lSaxObjC \
-        -lgnustep-base
+        -lgnustep-base -lobjc -lm
 
 NGCards_LIBRARIES_DEPEND_UPON += \
 	-framework NGExtensions	-framework EOControl \
diff --git a/SoObjects/SOGo/GNUmakefile.preamble b/SoObjects/SOGo/GNUmakefile.preamble
index ee71f35..55dd2be 100644
--- a/SoObjects/SOGo/GNUmakefile.preamble
+++ b/SoObjects/SOGo/GNUmakefile.preamble
@@ -21,9 +21,9 @@ SOGo_LIBRARIES_DEPEND_UPON += \
 	-lNGCards		\
 	-lNGMime		\
 	-lNGStreams -lNGExtensions -lEOControl \
-	-lXmlRpc -lDOM -lSaxObjC \
+	-lDOM -lSaxObjC \
 	-lNGLdap -lSBJson \
-        -lGDLContentStore
+        -lGDLContentStore -lcrypto -lgnustep-base -lobjc -ldl
 
 ifeq ($(findstring openbsd, $(GNUSTEP_HOST_OS)), openbsd)
 SOGo_LIBRARIES_DEPEND_UPON += -lcrypto
diff --git a/SoObjects/common.make b/SoObjects/common.make
index f28886d..8dc2d8c 100644
--- a/SoObjects/common.make
+++ b/SoObjects/common.make
@@ -31,6 +31,6 @@ BUNDLE_LIBS += \
 	-lNGObjWeb				\
 	-lNGCards -lNGMime -lNGLdap		\
 	-lNGStreams -lNGExtensions -lEOControl	\
-	-lXmlRpc -lDOM -lSaxObjC -lSBJson
+	-lDOM -lSaxObjC -lSBJson
 
 ADDITIONAL_BUNDLE_LIBS += $(BUNDLE_LIBS)
diff --git a/UI/SOGoUI/GNUmakefile.preamble b/UI/SOGoUI/GNUmakefile.preamble
index d54766e..9288140 100644
--- a/UI/SOGoUI/GNUmakefile.preamble
+++ b/UI/SOGoUI/GNUmakefile.preamble
@@ -9,8 +9,8 @@ endif
 libSOGoUI_LIBRARIES_DEPEND_UPON += \
 	-lNGObjWeb	\
 	-lNGMime	\
-	-lNGStreams -lNGExtensions -lEOControl \
-	-lXmlRpc -lDOM -lSaxObjC -lWOExtensions
+	-lNGExtensions -lEOControl \
+	-lSaxObjC -lgnustep-base -lSOGo -lobjc
 
 SYSTEM_LIB_DIR += -L/usr/local/lib -L/usr/lib
 ADDITIONAL_INCLUDE_DIRS += -I../../SoObjects
-- 
